@model IEnumerable<DB.Order>

@{
    ViewBag.Title = "כל ההזמנות";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Title</h1>
            </hgroup>
        </div>
    </section>
}

<fieldset>
    <legend>חיפוש מתקדם</legend>
    <br />

    <div id="ExpandingSearchBox">

    @using (Html.BeginForm("Search", "Orders"))
    {
        @Html.ValidationSummary(true)
            <div class="editor-label">
                <span>סטאטוס:</span>
            </div>
            <div class="editor-field">
                @Html.DropDownList("Status", (SelectList)ViewBag.StatusesList)
            </div>

            <div class="editor-label">
                <span>ספק:</span>
            </div>
            <div class="editor-field">
                @Html.DropDownList("Supplier", (SelectList)ViewBag.SuppliersList)
            </div>

            <div class="editor-label">
                <span>שם המזמין:</span>
            </div>
            <div class="editor-field">
                <input type="text" name="username" />
            </div>

            <p>
                <input type="submit" value="חפש"/>
            </p>
    }

    </div>
    <input id="ExpandSearchButton" type="button" value="Show/Hide" />
</fieldset>

@if (Model.Count() != 0)
{ 
    @Html.Action("List", new { orders = Model, isOrdered = true, isPaged = true, sortby = (string)ViewBag.Sortby, order = (string)ViewBag.Order, currPage = (int)ViewBag.CurrPage, NumberOfPages = (int)ViewBag.NumberOfPages })    
}
else
{
    <span class="no-properties">לא נמצאו הזמנות.</span> 
}